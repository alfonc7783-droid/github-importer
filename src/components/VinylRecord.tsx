/**
 * =============================================================================
 * КОМПОНЕНТ ВИНИЛОВОЙ ПЛАСТИНКИ
 * =============================================================================
 * 
 * Файл: src/components/VinylRecord.tsx
 * Описание: Интерактивная виниловая пластинка на стартовом экране
 * 
 * НАЗНАЧЕНИЕ:
 * ───────────
 * Это первый элемент, который видит пользователь.
 * Клик по пластинке запускает музыку и открывает приглашение.
 * 
 * СТРУКТУРА ПЛАСТИНКИ (слои снизу вверх):
 * ────────────────────────────────────────
 * 1. Основной диск (чёрный с бороздками)
 * 2. Блик (градиент для объёма)
 * 3. Текстура бороздок (радиальные линии)
 * 4. Золотой центр (этикетка)
 * 5. Сердце (иконка в центре)
 * 6. Отверстие для шпинделя
 * 
 * АНИМАЦИИ:
 * ─────────
 * - animate-spin-slow — медленное вращение пластинки (8 секунд)
 * - animate-pulse-glow — пульсация свечения золотого центра
 * - hover:scale-105 — увеличение при наведении
 * 
 * ЦВЕТА (определены в index.css):
 * ─────────────────────────────────
 * - --vinyl-dark: чёрный цвет винила
 * - --vinyl-groove: цвет бороздок
 * - --gold / --gold-dark: золотой центр
 * - --heart: розовый цвет сердца
 * 
 * @see src/pages/Index.tsx - Использование компонента
 * @see src/index.css - CSS-переменные и анимации
 */
import { Heart } from 'lucide-react';

// ═══════════════════════════════════════════════════════════════════════════
// ТИПЫ
// ═══════════════════════════════════════════════════════════════════════════

interface VinylRecordProps {
  /** Обработчик клика по пластинке */
  onClick: () => void;
  /** Флаг вращения (по умолчанию true) */
  isSpinning?: boolean;
}

// ═══════════════════════════════════════════════════════════════════════════
// КОМПОНЕНТ
// ═══════════════════════════════════════════════════════════════════════════

/**
 * Виниловая пластинка с анимацией вращения
 * 
 * @param onClick - Функция, вызываемая при клике
 * @param isSpinning - Включить анимацию вращения (default: true)
 */
const VinylRecord = ({ onClick, isSpinning = true }: VinylRecordProps) => {
  return (
    <button
      onClick={onClick}
      className="relative cursor-pointer transition-all duration-1000 z-10 hover:scale-105 focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0"
    >
      {/* ═══════════════════════════════════════════════════════════════ */}
      {/* ОСНОВНОЙ ДИСК ПЛАСТИНКИ */}
      {/* ═══════════════════════════════════════════════════════════════ */}
      <div
        className={`w-72 h-72 md:w-96 md:h-96 rounded-full relative ${isSpinning ? 'animate-spin-slow' : ''}`}
        style={{
          /**
           * Фон пластинки:
           * 1. Центральное отверстие (радиальный градиент)
           * 2. Бороздки (повторяющийся радиальный градиент)
           */
          background: `
            radial-gradient(circle, hsl(0 0% 10%) 0%, hsl(0 0% 10%) 12%, transparent 12%),
            repeating-radial-gradient(circle, hsl(0 0% 16%) 0px, hsl(0 0% 10%) 1px, hsl(0 0% 16%) 2px, hsl(0 0% 10%) 3px)
          `,
          // Тени для объёма
          boxShadow: 'rgba(0, 0, 0, 0.4) 0px 15px 50px, rgba(0, 0, 0, 0.3) 0px 0px 30px inset',
        }}
      >
        {/* ═══════════════════════════════════════════════════════════ */}
        {/* БЛИК НА ПЛАСТИНКЕ */}
        {/* Создаёт эффект объёма и отражения света */}
        {/* ═══════════════════════════════════════════════════════════ */}
        <div
          className="absolute inset-0 rounded-full"
          style={{
            background: 'linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, transparent 50%, rgba(0, 0, 0, 0.2) 100%)',
          }}
        />

        {/* ═══════════════════════════════════════════════════════════ */}
        {/* ТЕКСТУРА БОРОЗДОК */}
        {/* Имитация реальных бороздок на виниле */}
        {/* ═══════════════════════════════════════════════════════════ */}
        <div
          className="absolute inset-[15%] rounded-full"
          style={{
            background: 'repeating-radial-gradient(circle, transparent 0px, rgba(60, 60, 60, 0.3) 1px, transparent 2px)',
          }}
        />

        {/* ═══════════════════════════════════════════════════════════ */}
        {/* ЗОЛОТОЙ ЦЕНТР (ЭТИКЕТКА) */}
        {/* ═══════════════════════════════════════════════════════════ */}
        <div
          className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 md:w-32 md:h-32 rounded-full flex items-center justify-center animate-pulse-glow"
          style={{
            // Золотой градиент
            background: 'linear-gradient(145deg, hsl(48 85% 55%) 0%, hsl(46 90% 50%) 100%)',
            // Внутренняя тень и блик
            boxShadow: 'rgba(255, 255, 255, 0.3) 0px 2px 4px inset, rgba(0, 0, 0, 0.2) 0px 4px 8px',
          }}
        >
          {/* Сердце в центре этикетки */}
          <Heart
            className="w-8 h-8 md:w-10 md:h-10"
            fill="hsl(350 60% 70%)"
            color="hsl(350 60% 70%)"
          />
        </div>

        {/* ═══════════════════════════════════════════════════════════ */}
        {/* ОТВЕРСТИЕ ДЛЯ ШПИНДЕЛЯ */}
        {/* Маленькое отверстие в центре, как на реальной пластинке */}
        {/* ═══════════════════════════════════════════════════════════ */}
        <div
          className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full"
          style={{
            background: 'hsl(350 45% 75%)',
          }}
        />
      </div>

      {/* ═══════════════════════════════════════════════════════════════ */}
      {/* ИНСТРУКЦИЯ ПОД ПЛАСТИНКОЙ */}
      {/* ═══════════════════════════════════════════════════════════════ */}
      <p className="absolute -bottom-16 left-1/2 -translate-x-1/2 text-foreground/80 text-lg font-sans whitespace-nowrap">
        Чтобы открыть приглашение
      </p>
      <p className="absolute -bottom-8 left-1/2 -translate-x-1/2 text-foreground/80 text-lg font-sans whitespace-nowrap">
        нажми на пластинку
      </p>
    </button>
  );
};

export default VinylRecord;
